<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>iTranslate | Powered by AssemblyAI</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>

  <!-- Minimal Header -->
  <header class="header">
    <div class="header-brand">
      <span class="brand-name">iTranslate</span>
      <span class="brand-powered">powered by <strong>AssemblyAI</strong></span>
    </div>
    <div class="header-status">
      <span class="connection-pill" id="connectionBadge">
        <span class="pill-dot"></span>
        Disconnected
      </span>
    </div>
  </header>

  <!-- Main Layout -->
  <main class="app-layout">

    <!-- Device -->
    <div class="device-wrapper">
      <div class="device-glow"></div>
      <div class="device-frame">
        <!-- Top bezel -->
        <div class="device-bezel-top">
          <div class="bezel-camera"></div>
          <div class="bezel-grille"></div>
          <div class="bezel-camera dummy"></div>
        </div>

        <!-- Screen -->
        <div class="device-screen">
          <!-- Status bar -->
          <div class="screen-bar">
            <span class="bar-status">
              <span class="bar-dot" id="statusDot"></span>
              <span id="statusLabel">Ready</span>
            </span>
            <span class="bar-lang" id="langPairBadge">EN &harr; ES</span>
          </div>

          <!-- Waveform -->
          <div class="screen-waveform">
            <canvas id="waveformCanvas" width="340" height="48"></canvas>
          </div>

          <!-- Transcript -->
          <div class="screen-body">
            <div class="turn-block source" id="sourceBlock">
              <div class="turn-label" id="sourceLangBadge">EN</div>
              <div class="turn-text" id="sourceTranscript">
                <span class="ghost">Tap the mic to start...</span>
              </div>
            </div>

            <div class="turn-arrow" id="transcriptDivider">
              <svg id="dividerIcon" width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M10 4v12M10 16l4-4M10 16l-4-4" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>

            <div class="turn-block target" id="targetBlock">
              <div class="turn-label target" id="targetLangBadge">ES</div>
              <div class="turn-text" id="targetTranscript">
                <span class="ghost">Translation appears here</span>
              </div>
            </div>
          </div>

          <!-- Detection -->
          <div class="screen-detect" id="detectionBar">
            <span id="detectionText"></span>
          </div>

          <!-- Metrics -->
          <div class="screen-metrics">
            <div class="m"><span class="ml">STT</span><span class="mv" id="metricSTT">--</span></div>
            <div class="m"><span class="ml">Translate</span><span class="mv" id="metricTranslate">--</span></div>
            <div class="m"><span class="ml">TTS</span><span class="mv" id="metricTTS">--</span></div>
            <div class="m total"><span class="ml">Total</span><span class="mv" id="metricTotal">--</span></div>
          </div>
        </div>

        <!-- Bottom bezel with mic button -->
        <div class="device-bezel-bottom">
          <button class="mic-btn" id="micButton" title="Start / Stop">
            <svg id="micIconIdle" class="mic-icon" width="30" height="30" viewBox="0 0 24 24" fill="none">
              <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z" fill="currentColor"/>
              <path d="M19 10v2a7 7 0 0 1-14 0v-2" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
              <path d="M12 19v4M8 23h8" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
            </svg>
            <svg id="micIconActive" class="mic-icon" width="30" height="30" viewBox="0 0 24 24" fill="none" style="display:none">
              <rect x="5" y="5" width="14" height="14" rx="3" fill="currentColor"/>
            </svg>
          </button>
        </div>
      </div>
    </div>

    <!-- Side Panels -->
    <div class="panels">

      <!-- Session -->
      <div class="card">
        <div class="card-title">Session</div>
        <div class="card-rows">
          <div class="row"><span class="rl">Status</span><span class="rv" id="infoStatus">Idle</span></div>
          <div class="row"><span class="rl">Session</span><span class="rv mono" id="infoSessionId">--</span></div>
          <div class="row"><span class="rl">Duration</span><span class="rv" id="infoAudioDuration">0.0s</span></div>
          <div class="row"><span class="rl">Expires</span><span class="rv" id="infoExpires">--</span></div>
          <div class="row"><span class="rl">Model</span><span class="rv" id="infoModel">Multilingual</span></div>
        </div>
      </div>

      <!-- Config -->
      <div class="card">
        <div class="card-title">Config</div>
        <div class="card-rows">
          <div class="cfg">
            <label class="cl">Language A</label>
            <select class="cs" id="configLangA">
              <option value="en" selected>English</option>
              <option value="es">Spanish</option>
              <option value="fr">French</option>
              <option value="de">German</option>
              <option value="it">Italian</option>
              <option value="pt">Portuguese</option>
            </select>
          </div>
          <div class="cfg">
            <label class="cl">Language B</label>
            <select class="cs" id="configLangB">
              <option value="en">English</option>
              <option value="es" selected>Spanish</option>
              <option value="fr">French</option>
              <option value="de">German</option>
              <option value="it">Italian</option>
              <option value="pt">Portuguese</option>
            </select>
          </div>
          <div class="cfg">
            <label class="cl">Turn confidence</label>
            <div class="slider-wrap">
              <input type="range" class="cslider" id="configConfidence" min="0.1" max="0.9" step="0.05" value="0.4" />
              <span class="sval" id="confidenceValue">0.4</span>
            </div>
          </div>
          <div class="cfg">
            <label class="cl">Key terms</label>
            <input type="text" class="cinput" id="configKeyterms" placeholder="word1, word2, ..." />
          </div>
        </div>
      </div>

      <!-- History -->
      <div class="card card-grow">
        <div class="card-title">History</div>
        <div class="card-rows history-scroll" id="historyBody">
          <div class="history-empty">Turns appear here as you speak.</div>
        </div>
      </div>
    </div>

  </main>

  <script src="app.js"></script>
</body>
</html>
